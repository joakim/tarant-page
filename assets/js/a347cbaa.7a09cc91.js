"use strict";(self.webpackChunktarant_page=self.webpackChunktarant_page||[]).push([[3470],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var a=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(r),u=o,f=d["".concat(s,".").concat(u)]||d[u]||m[u]||n;return r?a.createElement(f,l(l({ref:t},p),{},{components:r})):a.createElement(f,l({ref:t},p))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,l=new Array(n);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[d]="string"==typeof e?e:o,l[1]=i;for(var c=2;c<n;c++)l[c]=r[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},6861:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var a=r(7462),o=(r(7294),r(3905));const n={sidebar_position:3},l="Tarant Local Storage",i={unversionedId:"modules/tarant-local-storage",id:"modules/tarant-local-storage",title:"Tarant Local Storage",description:"Motivation",source:"@site/docs/modules/tarant-local-storage.md",sourceDirName:"modules",slug:"/modules/tarant-local-storage",permalink:"/docs/modules/tarant-local-storage",draft:!1,editUrl:"https://github.com/tarantx/tarant-page/tree/main/docs/modules/tarant-local-storage.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Tarant DB Persist",permalink:"/docs/modules/tarant-db-persist"},next:{title:"Tarant Sync Client",permalink:"/docs/modules/tarant-sync-client"}},s={},c=[{value:"Motivation",id:"motivation",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:'Created my free logo at <a href="http://logomakr.com" title="Logo Makr">LogoMakr.com</a>',id:"created-my-free-logo-at-logomakrcom",level:5}],p={toc:c},d="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(d,(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"tarant-local-storage"},"Tarant Local Storage"),(0,o.kt)("h2",{id:"motivation"},"Motivation"),(0,o.kt)("p",null,"Usually complex applications need to store offline part of the state, so it can be synced back or reused later. This\nmodule lets tarant store your actors serialized in the local storage and recovered implicitly."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"Add it to your project using ",(0,o.kt)("inlineCode",{parentName:"p"},"npm install tarant-local-storage --save")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn add tarant-local-storage")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"You need to mark which classes need to be exported first. Usually this is done with the ",(0,o.kt)("inlineCode",{parentName:"p"},"LocalStoragePersisted"),(0,o.kt)("br",{parentName:"p"}),"\n","class decorator."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import { Actor } from "tarant";\nimport { LocalStoragePersisted } from "tarant-local-storage";\n\nexport default class MyPersistedActor extends Actor {\n    ...\n}\nLocalStoragePersisted("MyPersistedActor", MyPersistedActor) // NameOfThePersistedClass (unique), Class constructor\n')),(0,o.kt)("p",null,"And then add the repository as a materializer and as a resolver:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { ActorSystem, ActorSystemConfigurationBuilder } from 'tarant'\nimport MyPersistedActor from './actor';\nimport { LocalStoragePersisted, LocalStorageRepository } from 'tarant-local-storage';\n\nwindow.onload = () => {\n  const repository = new LocalStorageRepository()\n\n  const system = ActorSystem.for(ActorSystemConfigurationBuilder.define()\n  .withMaterializers([repository])\n  .withResolvers([repository])\n  .done())  \n\n  system.actorOf(MyPersistedActor)\n}\n")),(0,o.kt)("h5",{id:"created-my-free-logo-at-logomakrcom"},"Created my free ",(0,o.kt)("a",{parentName:"h5",href:"https://logomakr.com/8pe69n"},"logo")," at ",(0,o.kt)("a",{href:"http://logomakr.com",title:"Logo Makr"},"LogoMakr.com")))}m.isMDXComponent=!0}}]);