"use strict";(self.webpackChunktarant_page=self.webpackChunktarant_page||[]).push([[4035],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),m=r,g=c["".concat(p,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6482:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var a=n(7462),r=(n(7294),n(3905)),o=n(1207);const i={sidebar_position:4},l="Tutorial: Your first Cloud Application",p={unversionedId:"Quick Start/your-first-cloud-application",id:"Quick Start/your-first-cloud-application",title:"Tutorial: Your first Cloud Application",description:"Currently, the tarant cloud is in private beta. To deploy a new application to the cloud, you will need to join.",source:"@site/docs/Quick Start/your-first-cloud-application.mdx",sourceDirName:"Quick Start",slug:"/Quick Start/your-first-cloud-application",permalink:"/docs/Quick Start/your-first-cloud-application",draft:!1,editUrl:"https://github.com/tarantx/tarant-page/tree/main/docs/Quick Start/your-first-cloud-application.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Tutorial: A Simple Web Server",permalink:"/docs/Quick Start/a-simple-server"},next:{title:"How To",permalink:"/docs/category/how-to"}},s={},u=[{value:"The Development Environment",id:"the-development-environment",level:3},{value:"Bootstrapping a new application",id:"bootstrapping-a-new-application",level:3},{value:"Deploying your application",id:"deploying-your-application",level:3}],c={toc:u},d="wrapper";function m(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tutorial-your-first-cloud-application"},"Tutorial: Your first Cloud Application"),(0,r.kt)("div",{class:"alert alert--primary",style:{"margin-top":"1em","margin-bottom":"1em","padding-bottom":"4px"},role:"alert"},(0,r.kt)("p",null,"  Currently, the tarant cloud ",(0,r.kt)("strong",{parentName:"p"},"is in private beta"),". To deploy a new application to the cloud, you will need to join."),(0,r.kt)("button",{className:`button button--secondary button--lg ${o.Z.heroButton}`,style:{"margin-bottom":"1em"},onClick:()=>{console.log("hello",document.getElementById("formbutton-button")),document.getElementById("formbutton-button").click()}},"Join The Cloud Beta"),(0,r.kt)("p",null,"  You can read our announcement in the following blog post: ",(0,r.kt)("a",{parentName:"p",href:"/blog/2023/04/22/private-beta-is-ready"},"Tarant Cloud: Private Beta Is Ready"),".")),(0,r.kt)("h3",{id:"the-development-environment"},"The Development Environment"),(0,r.kt)("p",null,"Tarant works in Node.js, and the tarant cloud commandline (",(0,r.kt)("inlineCode",{parentName:"p"},"txc"),") als orequires Node.js to work. Before continuing, make sure you installed\n",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/en/"},"the latest TLS version")," of Node.js. If you already have Node.js in your system, you can move forward to install all the\nrequired dependencies."),(0,r.kt)("p",null,"The tarant cloud is accessible by a command line called ",(0,r.kt)("inlineCode",{parentName:"p"},"txc"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"txc")," allows you to login, deploy, and check your application statuses on the cloud,\nas if it would be your own development environment. To install ",(0,r.kt)("inlineCode",{parentName:"p"},"txc"),", run the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm i tarant-cloud-cli\n")),(0,r.kt)("p",null,"To ensure ",(0,r.kt)("inlineCode",{parentName:"p"},"txc")," is installed properly, run the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"txc -V\n")),(0,r.kt)("p",null,"And you will see the version of the current ",(0,r.kt)("inlineCode",{parentName:"p"},"txc")," installation:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"my-user@my-machine:~/$ txc -V\n0.0.1\n")),(0,r.kt)("h3",{id:"bootstrapping-a-new-application"},"Bootstrapping a new application"),(0,r.kt)("p",null,"tarant applications are just ordinary applications. They don't require any additional infrastructure to work: just the tarant library. So, we can\njust bootstrap a new project creating a new folder and using ",(0,r.kt)("inlineCode",{parentName:"p"},"npm init"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir example-app-cloud\ncd example-app-cloud\nnpm init -y\n")),(0,r.kt)("p",null,"Once the package is initialised, now we can now install the dependencies we want using ",(0,r.kt)("inlineCode",{parentName:"p"},"npm i"),". For this example, we are going to need both tarant\nand express:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm i tarant express --save\n")),(0,r.kt)("p",null,"Once the dependencies are installed (both tarant and express are pretty lightweight) we are ready to code. In this tutorial, we will give you a\nrunning tarant application so you can deploy it as quick as possible."),(0,r.kt)("p",null,"Create the index.js file and paste the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const express = require('express')\nconst tarant = require('tarant')\n\nconst pkg = require('./package.json')\nconst app = express()\n\nclass Book extends tarant.Actor {\n    constructor() {\n        super('Book')\n\n        this.signatures = []\n    }\n\n    sign(name) {\n        this.signatures.push(name)\n        if (this.signatures.length > 100) {\n            this.signatures.splice(0, 1)\n        }\n    }\n\n    signatures() {\n        return this.signatures\n    }\n}\n\nconst actorSystem = tarant.ActorSystem.default()\nconst book = actorSystem.actorOf(Book, [ ])\n\napp.get('/signatures/:name', (req, res) => {\n    book.sign(req.params.name)\n    res.status(201).send()\n})\n\napp.get('/signatures', async (req, res) => {\n    const signatures = await book.signatures()\n    res.status(200).send({ lastSignatures: signatures })\n})\n\napp.get('/health', (req, res) => res.send(`${pkg.name}:${pkg.version}`))\napp.listen(8080)\n")),(0,r.kt)("h3",{id:"deploying-your-application"},"Deploying your application"),(0,r.kt)("p",null,"Once you are done, open a terminal in the folder with your project. Now you can login in the tarant cloud using the ",(0,r.kt)("inlineCode",{parentName:"p"},"txc login")," command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"txc login\n")),(0,r.kt)("p",null,"It will open a browser with a SSO web page:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"The txc login page",src:n(4625).Z,width:"522",height:"618"})),(0,r.kt)("p",null,"Input your credentials, and once you login successfully, go back into your CLI. You'll see an ",(0,r.kt)("strong",{parentName:"p"},"Authentication Success")," message."),(0,r.kt)("div",{class:"alert alert--primary",style:{"margin-top":"1em","margin-bottom":"1em","padding-bottom":"4px"},role:"alert"},(0,r.kt)("p",null,"  You only need to log in once in a while. The authentication spans for a few hours and when you run an authenticated command, it will ask you\nto log in first if the session expired.")),(0,r.kt)("p",null,"Now you can deploy your application using the ",(0,r.kt)("inlineCode",{parentName:"p"},"txc deploy")," command."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Your application has been deployed!",src:n(3343).Z,width:"663",height:"99"})),(0,r.kt)("p",null,"Once you run the ",(0,r.kt)("inlineCode",{parentName:"p"},"txc deploy"),", it will take a few minutes to deploy. You can check the progress of your deploy using the\n",(0,r.kt)("inlineCode",{parentName:"p"},"txc ps")," command. Eventually, you'll see your running applications:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Your application is in green!",src:n(7590).Z,width:"863",height:"158"})),(0,r.kt)("p",null,"The provided information is as following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Status"),": A circle that shows your application status. \ud83d\udfe2 means it's healthy, \ud83d\udfe0 means a warning (application running but unhealthy) and \ud83d\udd34 means the application is down."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Application"),": This is your application name."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Version"),": This is the running version of your application. When you deploy a new version, this one will be replaced."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Start Time"),": When the deploy happened."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL"),": URL of your application. The shared infrastructure uses the same DNS for all applications, so don't put any private information in there!")),(0,r.kt)("p",null,"Now that your application is running (in our case, in ",(0,r.kt)("a",{parentName:"p",href:"http://server.tarant.cloud:9001/"},"http://server.tarant.cloud:9001/"),"), we can now try it. In your terminal, now run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"curl URL_OF_YOUR_SERVER/health\n# For example: curl http://server.tarant.cloud:9001/health\n")),(0,r.kt)("p",null,"And you'll receive the following output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"example-app-cloud:1.0.0\n")),(0,r.kt)("p",null,"Now you can try to run a new endpoint, for example, signing the book and reading all signatures:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"curl URL_OF_YOUR_SERVER/signatures/tarantx\ncurl URL_OF_YOUR_SERVER/signatures\n\ncurl http://server.tarant.cloud:9001/signatures/tarantx\ncurl http://server.tarant.cloud:9001/signatures\n")),(0,r.kt)("p",null,"It will output something like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{"lastSignatures":["tarantx"]}\n')),(0,r.kt)("p",null,"And you are ready!"))}m.isMDXComponent=!0},1207:(e,t,n)=>{n.d(t,{Z:()=>a});const a={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN",heroButton:"heroButton_GTT_",heroSubtitle:"heroSubtitle_jFu1"}},4625:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/txc-login-113be93726e344aefbaa2e16af122c15.png"},3343:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/your-application-is-deployed-e9272d9a14f7df1bb07a49fd3f0c4d1b.png"},7590:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/your-running-apps-ae2792280b263b08c9478efa3c10f159.png"}}]);