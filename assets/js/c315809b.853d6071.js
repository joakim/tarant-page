"use strict";(self.webpackChunktarant_page=self.webpackChunktarant_page||[]).push([[8870],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(r),f=o,d=p["".concat(l,".").concat(f)]||p[f]||m[f]||a;return r?n.createElement(d,i(i({ref:t},u),{},{components:r})):n.createElement(d,i({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},943:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=r(7462),o=(r(7294),r(3905));const a={sidebar_position:1},i="Create An Actor System",s={unversionedId:"tutorials/how-to-create-an-actor-system",id:"tutorials/how-to-create-an-actor-system",title:"Create An Actor System",description:"Actor Systems hold all the information about the location of all the actors on an application, even if they are",source:"@site/docs/tutorials/how-to-create-an-actor-system.md",sourceDirName:"tutorials",slug:"/tutorials/how-to-create-an-actor-system",permalink:"/docs/tutorials/how-to-create-an-actor-system",draft:!1,editUrl:"https://github.com/tarantx/tarant-page/tree/main/docs/tutorials/how-to-create-an-actor-system.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Tutorials",permalink:"/docs/category/tutorials"},next:{title:"Create An Actor",permalink:"/docs/tutorials/how-to-create-an-actor"}},l={},c=[{value:"Default Configuration",id:"default-configuration",level:2},{value:"Using Custom Configuration",id:"using-custom-configuration",level:2},{value:"Freeing the Actor System",id:"freeing-the-actor-system",level:2}],u={toc:c},p="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"create-an-actor-system"},"Create An Actor System"),(0,o.kt)("p",null,"Actor Systems hold all the information about the location of all the actors on an application, even if they are\nin memory or not. They are composed of:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/components/materializers"},"Materializers")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/components/resolvers"},"Resolvers")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/components/supervisors"},"A Top Level Supervisor")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/components/fibers"},"Fibers")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/components/mailboxes"},"Mailboxes"))),(0,o.kt)("p",null,"There are two main ways to create an Actor System in tarant. One uses the default configuration, and the other\none lets the developer configure most of the advanced fields for customizing the behaviour."),(0,o.kt)("h2",{id:"default-configuration"},"Default Configuration"),(0,o.kt)("p",null,"Creating an Actor System with the default configuration is just a matter of calling a single static method. Let's assume\nthat you already have a javascript file, first you will need to import the ActorSystem class from the main package:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { ActorSystem } = require('tarant')\n")),(0,o.kt)("p",null,"After importing the ActorSystem, you will need to call the ",(0,o.kt)("inlineCode",{parentName:"p"},"default")," static method in ActorSystem and it will return a freshly\ncreated ActorSystem with a running, default configuration."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const system = ActorSystem.default()\n")),(0,o.kt)("h2",{id:"using-custom-configuration"},"Using Custom Configuration"),(0,o.kt)("p",null,"The ActorSystem is a complex object because it has several responsibilities, like the orchestration of different components.\nTo simplify the configuration we provide a configuration builder with a set of methods to change the default configuration.\nIs worth to note that any not changed field will remain with the default configuration, which is usually enough for most\napplications."),(0,o.kt)("p",null,"To use the configuration builder, you will need first to import it from the main package:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { ActorSystem, ActorSystemConfigurationBuilder } = require('tarant')\n")),(0,o.kt)("p",null,"Then you can create your configuration using the builder, as in:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const localStorageRepository = new LocalStorageRepository()\nconst configuration = ActorSystemConfigurationBuilder.define()\n  .withMaterializers([new VueRenderer(), localStorageRepository]) \n  // Render actors with vue.js and store their state in the localStorage of the browser\n  .withResolvers([localStorageRepository])\n  // When a non existing actor is requested, try to resolve them in the localStorage of the browser\n  .done()\n")),(0,o.kt)("p",null,"And then, call the static constructor named ",(0,o.kt)("inlineCode",{parentName:"p"},"for")," in the ActorSystem to provide the new configuration:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const system = ActorSystem.for(configuration)\n")),(0,o.kt)("h2",{id:"freeing-the-actor-system"},"Freeing the Actor System"),(0,o.kt)("p",null,"You can always stop the Actor System using the provided ",(0,o.kt)("inlineCode",{parentName:"p"},"free")," method. It will stop all actors and stop all fibers."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"system.free()\n")))}m.isMDXComponent=!0}}]);